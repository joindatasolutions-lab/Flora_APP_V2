<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Flora - Cat√°logo de Arreglos Florales</title>

  <!-- Fuentes y librer√≠as -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- Estilos -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- === ENCABEZADO === -->
  <header>
    <img src="img/logo 2024 marca registrada-04.png" alt="Flora Logo">
    <h2>Cat√°logo de Arreglos Florales</h2>
  </header>

  <!-- === CAT√ÅLOGO === -->
  <section id="viewCatalog" class="view active">
    <div id="catalogo" class="catalogo"></div>
  </section>

  <!-- === DRAWER CARRITO === -->
  <aside id="drawerCarrito" class="drawer">
    <div class="drawer-header">
      <strong>üõçÔ∏è Tu carrito</strong>
      <button id="cerrarDrawer" class="icon-btn">‚úï</button>
    </div>
    <div class="drawer-body">
      <ul id="cartItemsDrawer" class="cart-list"></ul>
      <div class="drawer-footer">
        <div class="subtotal">
          <p><strong>Subtotal:</strong> $<span id="subtotalDrawer">0</span></p>
          <p><strong>IVA:</strong> $<span id="ivaDrawer">0</span></p>
          <p><strong>Domicilio:</strong> $<span id="domicilioDrawer">0</span></p>
          <h3><strong>Total:</strong> $<span id="totalDrawer">0</span></h3>
        </div>
        <div class="drawer-actions">
          <button id="vaciarCarrito" class="btn-outline">Vaciar</button>
          <button id="btnPedidoDrawer" class="btn-primary">Proceder</button>
        </div>
      </div>
    </div>
  </aside>

  <!-- === BOT√ìN FLOTANTE CARRITO === -->
  <button id="btnDrawer" class="cart-fab">
    üõçÔ∏è <span id="cartCount">0</span>
  </button>

  <!-- === FORMULARIO DE PEDIDO === -->
  <section id="viewForm" class="view">
    <form id="pedidoForm">
      <div class="pedido-summary" id="resumenProducto">üõç Tu pedido</div>

      <h3>Datos del Cliente 
        <span id="badgeCliente" class="badge warn">Nuevo cliente</span>
      </h3>

      <div class="grid">
        <div>
          <label>Tipo de identificaci√≥n</label>
          <select id="tipoIdent" required>
            <option value="CEDULA" selected>C√©dula</option>
            <option value="NIT">NIT</option>
          </select>
        </div>
        <div><label>Identificaci√≥n</label><input id="identificacion" name="identificacion" required></div>
        <div><label>Tel√©fono</label><input id="telefono" name="telefono" required></div>
        <div><label>Nombre</label><input id="primerNombre" name="primerNombre" required></div>
        <div><label>Apellido(s)</label><input id="primerApellido" name="primerApellido"></div>
        <div><label>Email (opcional)</label><input type="email" id="email" name="email"></div>
      </div>

      <h3>Entrega</h3>
      <div class="grid">
        <div><label>Destinatario</label><input id="destinatario" required></div>
        <div><label>Tel√©fono destino</label><input id="telefonoDestino" required></div>
        <div><label>Direcci√≥n</label><input id="direccion" required></div>
        <div>
          <label>Barrio</label>
          <select id="barrio" onchange="actualizarDomicilio()" required></select>
        </div>
        <div><label>Fecha de entrega</label><input id="fechaEntrega" type="date" required></div>
        <div><label>Hora de entrega</label><input id="horaEntrega" type="time" required></div>
      </div>

      <h3>Medio de Pago y Mensaje</h3>
      <div class="grid">
        <div>
          <label>Medio de pago</label>
          <select id="formaPago" required>
            <option value="">Selecciona una opci√≥n...</option>
            <option value="TRANSFERENCIA">Transferencia</option>
            <option value="TARJETA">Tarjeta</option>
            <option value="LINK">Link</option>
            <option value="EFECTIVO">Efectivo</option>
            <option value="CUENTAS POR COBRAR">Cuenta Por Cobrar</option>
            <option value="CONTRAENTREGA">Pago contra entrega</option>
          </select>
        </div>
        <div class="grid-1">
          <label>Mensaje</label>
          <textarea id="mensaje" placeholder="Escribe un mensaje opcional"></textarea>
        </div>
      </div>

      <div class="firma-box">
        <label>¬øDeseas que el mensaje vaya firmado o an√≥nimo?</label>
        <select id="firmaMensaje" required>
          <option value="Firmado" selected>Firmado</option>
          <option value="An√≥nimo">An√≥nimo</option>
        </select>
        <div id="campoFirmaWrapper" style="margin-top:10px;">
          <label for="nombreFirma">Nombre para la firma</label>
          <input type="text" id="nombreFirma" placeholder="Ej: Con cari√±o, Laura y Carlos">
        </div>
      </div>

      <!-- Campos ocultos -->
      <input type="hidden" id="domicilio" name="domicilio">
      <input type="hidden" id="iva" name="iva">
      <input type="hidden" id="total" name="total">

      <div class="actions">
        <button type="button" class="btn-outline" id="btnVolver">Regresar</button>
        <button type="submit" class="btn-primary" id="btnSubmit">Confirmar pedido</button>
      </div>
    </form>
  </section>

  <!-- === SCRIPT PRINCIPAL === -->
  <script src="script.js"></script>
</body>
</html>
